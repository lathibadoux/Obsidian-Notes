[[#009.2.1.1 What does this interview look like?]]
[[#009.2.1.2 How to succeed in this interview?]]
### 009.2.1.1 What does this interview look like?
* A 60 minute diagraming conversation where they expect you to come up with schemas of 3 - 5 tables
* If you don't have a really good looking diagram at the end of the interview, then you probably failed.

Probably going to end up with something like this:
![[2025-09-02 11_45_59-SQLQuery3.sql - not connected_ - Microsoft SQL Server Management Studio.jpg]]

**Ex. AirBnB: model ways you can recommend friends go on trips together:**
* Dimensional data: all of the users
* Fact data: all of the places that those friends have said they want to go
* Cumulative dimension: Want to have the entire body of friends, not just the friends that are active today
* Enriched aggregates: Join these tables to give you the intersection of friends and preferences
* KPIs, metrics: The average number of friends that have an intersection with other friends
* Experiments: Does this experiment impact the amount of friend intersections we have?

### 009.2.1.2 How to succeed in this interview?
1. Ask a lot of questions before diagramming!
	* These interviews are more about how you are to work with.  
	* If you don't approach problems with curiosity, that is a signal that you are not a very good engineer.
	* Understand which columns you need from each table from the interviewer
		* User ID (any primary ID)
		* Is active?
		* One or two actions to track over time
	* Ask what other things they might need in the future.
		* Staff and senior engineers think about things more on a one to two year horizon.
	* Ask about table scans and efficient access patterns
		* Showing that you know how cumulative tables work to minimize table scans can be HUGE!
	* Understand the constraints
2. Understand how this data will be used
3. Know the tradeoffs of cumulative / SCD tables vs daily tables
	* Cumulative tables can be very powerful, especially if you are looking at a lot of history
	* Cons:
		* Have to build incrementally (backfill is painful)
		* Have to be more careful when querying 
	* Pros:
		* Scan history very efficiently
	* Daily Tables:
	* Pros:
		* Very simple to query, very simple to generate
	* Cons:
		* Data volume is higher, more repetitive data
4. Where should you use aggregate tables
	* How do you crunch the data down so you can hold onto it longer?
	* Pros:
		* Extremely fast charting
		* No PII, forever retention
	* Cons:
		* Loss of detail
		* Impossible to bring in other dimensions
5. Understand the relationship between tables
	* Are the joins efficient?
	* Should the dimensional cumulative happen before or after the joins?
	* Should pop out to you if you ask the right questions.
	* What grain should you aggregate at?
		* Daily user is common (nice middle ground between row-level fact and aggregates)
	* Aggregation along lower cardinality dimensions is common for charting
	* Remember, you can provide a suite a tables, it doesn't have to be 1 or 2 tables!
		* Usually the correct answer is 4 to 5 tables, not 1 to 2 tables
6. Know the tradeoffs of normalization vs denormalization
	* Do you bring this in as a dimension to your other table?
	* Do you put this dimension in your fact table?
	* Know the tradeoffs of should you introduce a JOIN, or should I use a more normalized table for additional storage.